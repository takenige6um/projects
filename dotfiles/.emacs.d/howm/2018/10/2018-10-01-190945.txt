= 置換
[2018-10-01 19:09] >>> ~/projects/dotfiles/.emacs.d/init.el
Emacs/Emacsの便利な機能/文字列の置換 -- (M-%)
<< 文字列の検索 -- (C-s，C-r)	INDEX	文字コードの設定 -- (C-x <RET> f) >>
日本語文字列の置換

検索する文字列と置換する文字列を指定して，カーソルの位置以降の文字列を置換できます．


例として，`centre'を`center'に置換する操作を説明します．はじめにM-%を入力します．するとエコーエリアに次のメッセージが表示され，カーソルがエコーエリアに移動するので`centre'と入力します．

Query replace: centre_
<RET>を押して，次に`center'を入力します．

Query replace centre with: center  (? for help)
<RET>を押すとカーソル位置より後のcentreという文字列が検索され，カーソルが移動します．
<SPACE>またはyを押すと`centre'は`center'に置換され，<BS>またはnを押すと置換せずに次へ進みます．`centre'という文字列がなくなった時点で置換は終了します．1つ1つ確認せずにバッファの最後まですべて置換する場合は !を入力します．


日本語文字列の置換
日本語文字列を置換する場合は英語の置換の際と同様にM-%を入力し，カーソルがエコーエリアに移動したところで C-(C-￥)を入力すれば，`たまご'を利用した日本語入力ができます．文字列を入力した後<RET> を押すと入力した文字列の検索がはじまり，英語と同様に置換できます．ただし，日本語の単語の場合，改行で区切られていると置換の対象にならないので注意してください．
[あ]Query replace: けいおう_
表3.2に文字列置換に関するキー操作を示します．


表 3.2: 文字列の置換
キー操作	意味
M-%	文字列の置換
<SPACE>， y	置換の実行
<BS>， n	置換の非実行
!	バッファの終わりまですべて置換


